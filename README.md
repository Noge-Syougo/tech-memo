# tech-memo
技術メモ

## 書いてほしいこと

- Dcokerについて
  - 紹介
  - サンプルプロジェクトによる基本的な使い方の説明
  - ノウハウ
- GitHub Actionsについて
  - 紹介
  - サンプルプロジェクトによる基本的な使い方の説明
  - ノウハウ

読み手のターゲットは、DockerやGitHub Actionsを知らない人、何に使えるか分かってない人です。

書き出すとキリがないので、LinuxやGitについては知っている前提で記載をお願いします。
必要なら別途作成することにしましょう。  

### Docker

#### Dockerの紹介
ページ冒頭でDockerの概要、こんなときに使えるみたいな説明を書いて下さい。  

知らない人が読んで使ってみたいと思わせられたら完璧です。

詳しい説明は参考ページへリンクをとばす形でいいです。


#### Dockerのサンプルプロジェクト
例題を考えて、dockerの基本的な使い方を説明するページを作って下さい。  
複数ページに分けてOKです。

docker-composeについても記載お願いします。  


#### ノウハウ
やりたいことから、解決策をすぐに見つけられるようなページを作りたいです。  
目次用のページを作って、ネタごとにページを分けるのが良いかと思います。  

ひとまず思いつくネタは↓になります。  
分類、粒度など体系だてて整理してもらえると助かります。  

意味不明なところの詳細は井上まで。

- ホストPCのファイルをdockerビルド時に使いたい (COPY/ADD)
- docker build時に変数の値を渡したい (--build-arg/ARG)
- docker build時にキャッシュを使いたくない (--no-cache)
- docker run時に環境変数の値を渡したい (-e)
- コンテナをホストPCと同じネットワークに所属させたい (--net host)
- コンテナに名前を付けたい(--name)
- ホストPCのファイルをコンテナから参照したい
  - volume/bindについて
  - ホストPCとコンテナ内でユーザIDが違う場合の対応方法
- コンテナ内のGUIツールを使いたい
  - X-Windowの設定(DISPLAY変数の設定)
  - Linuxドライバのインストール方法(burger_war_devの手順書から持ってきても良いです)
- PROXY環境でも使えるイメージを作りたい
- PID1問題 (tini)
- ghcr.ioでDockerイメージを公開したい
  - Personal Access Tokenの作成方法(burger_war_kitの手順書から持ってきても良いです)
  - ghcr.ioへのログインとプッシュ
  - 公開方法(private→publicにする)

サンプルプロジェクトを作る際に疑問に思った箇所や、引っかかった箇所はどんどん追加して下さい。

### GitHub Actions

#### GitHub Actionsの紹介
ページ冒頭でDockerの概要、こんなときに使えるみたいな説明を書いて下さい。

知らない人が読んで使ってみたいと思わせられたら完璧です。

詳しい説明は参考ページへリンクをとばす形でいいです。

公式ドキュメントは用意されてますが、若干探しにくいので、よく見そうなページへのリンク集があると良いかもです。  
Microsoftより断然マシですが。

#### GitHub Actionsのサンプルプロジェクト
例題を考えて、GitHub Actionsの基本的な使い方の説明ページを作って下さい。  

複数ページに分けてOKです。


#### ノウハウ
やりたいことから、解決策をすぐに見つけられるようなページを作りたいです。  
目次用のページを作って、ネタごとにページを分けるのが良いかと思います。  

ひとまず思いつくネタは↓になります。  
分類、粒度など体系だてて整理してもらえると助かります。  

意味不明なところの詳細は井上まで。

- Readmeの目次を自動更新したい
- GitHub Actionsでビルドした成果物(exeなど)を保存したい (artifact)
- Dockerとの連携
  - Dockerfileをビルドしたい
  - GitHub Actionsからghcr.ioへDockerイメージをプッシュしたい
- 定期的に実行したい(cron)

サンプルプロジェクトを作る際に疑問に思った箇所や、引っかかった箇所はどんどん追加して下さい。

## ファイル構成
以下のような構成をイメージしています。  
何か不都合があれば変えてもらってOKです。

ただ、保守が辛くなるので巨大なファイルを作るのは避けたいなと思ってます。  

```
src/index.adoc                  全体の目次
src/docker/index.adoc           dockerの目次ファイル
src/docker/*.adoc               dockerの各ドキュメントファイル
src/github-actions/index.adoc   Github Actionsの目次ファイル
src/github-actions/*.adoc       Github Actionsの各ドキュメントファイル
```

